<div>
    <md-toolbar color="primary">
        <span>Input personal data</span>
        <span class="md-toolbar-spacer"></span>
        <md-icon class="example-icon">contact_mail</md-icon>
    </md-toolbar>
    <md-card>
        <md-card-content>
            <form class="form-horizontal"
                  novalidate autocomplete="off"
                  (ngSubmit)="save()"
                  [formGroup]="samuraiForm">
                <!--<fieldset>-->
                <div>
                    <md-input-container style="width: 40%" class="form-group"
                                        [ngClass]="{'has-error': displayMessage.firstName }" dividerColor="warn">
                        <input mdInput #firstName formControlName="firstName" placeholder="First Name (50 max)">
                        <md-hint align="left">{{firstName.value.length}} / 50</md-hint>
                        <md-hint align="end" class="error" *ngIf="displayMessage.firstName">
                            <span color="warn" >
                                {{displayMessage.firstName}}
                            </span>
                        </md-hint>
                    </md-input-container>
                </div>
                <div>
                    <md-input-container style="width: 40%"
                                        class="form-group"
                                        [ngClass]="{'has-error': displayMessage.lastName }">
                        <input mdInput #lastName formControlName="lastName" placeholder="Last Name (50 max)">
                        <md-hint align="left">{{lastName.value.length}} / 50</md-hint>
                        <md-hint align="end" class="error" *ngIf="displayMessage.lastName">
                            <span>
                                {{displayMessage.lastName}}
                            </span>
                        </md-hint>
                    </md-input-container>
                </div>

                <!-- email group with email confirmation -->
                <div formGroupName="emailGroup"
                        [ngClass]="{'has-error': displayMessage.email }">
                    <md-input-container style="width: 40%"
                                        class="form-group"
                                        [ngClass]="{'has-error': displayMessage.email}">
                        <input mdInput #email formControlName="email" placeholder="E-mail (Required)" type="email">
                        <md-hint align="end" class="error" *ngIf="displayMessage.email">
                                <span>
                                    {{displayMessage.email}}
                                </span>
                        </md-hint>
                    </md-input-container>
                    <md-input-container style="width: 40%"
                                        class="form-group"
                                        [ngClass]="{'has-error': displayMessage.confirmEmail }">
                        <input mdInput #confirmEmail formControlName="confirmEmail" placeholder="Repeat e-mail (Required)" type="email">
                        <md-hint align="end" class="error" *ngIf="displayMessage.confirmEmail">
                            <span>
                                {{displayMessage.confirmEmail}}
                            </span>
                        </md-hint>
                    </md-input-container>
                </div>

                <md-input-container style="width: 40%"
                                    class="form-group"
                                    [ngClass]="{'has-error': displayMessage.phone }">
                    <input mdInput #lastName formControlName="phone" placeholder="Phone (50 max)">
                    <md-hint align="end" class="error" *ngIf="displayMessage.phone">
                        <span>
                            {{displayMessage.phone}}
                        </span>
                    </md-hint>
                </md-input-container>
                
                <md-radio-group formControlName="notification">
                    <label class="example-margin">Notify by:</label>
                    <md-radio-button value="email">E-mail</md-radio-button>
                    <md-radio-button value="sms">SMS</md-radio-button>
                    <md-radio-button value="post" disabled>Post</md-radio-button>
                </md-radio-group>
                    <!-- change required based on this selection - text = phone input is required -->
                    <!--div class="form-group">
                        <label class="col-md-2 control-label">Send Notifications</label>
                        <div class="col-md-8">
                            <label class="radio-inline">
                                <input type="radio"
                                        value="email"
                                        formControlName="notification"
                                        (click)="setNotification('email')">Email
                            </label>
                            <label class="radio-inline">
                                <input type="radio"
                                        value="text"
                                        formControlName="notification"
                                        (click)="setNotification('text')">Text
                            </label>
                        </div>
                    </div>-->
                    <!--<md-card class="form-group" [ngClass]="{'has-error': (samuraiForm.get('rating').touched ||
                                                    samuraiForm.get('rating').dirty) &&
                                                    !samuraiForm.get('rating').valid }" >Send Notifications-->
                    
                    <!--</md-card>-->

                    <!--<div class="form-group"
                         [ngClass]="{'has-error': (samuraiForm.get('rating').touched ||
                                        samuraiForm.get('rating').dirty) &&
                                        !samuraiForm.get('rating').valid }">
                        <label class="col-md-2 control-label"
                               for="ratingId">Rating</label>

                        <div class="col-md-8">
                            <input class="form-control"
                                   id="ratingId"
                                   type="number"
                                   formControlName="rating" />
                            <span class="help-block" *ngIf="(samuraiForm.get('rating').touched
                                                    || samuraiForm.get('rating').dirty) &&
                                                    samuraiForm.get('rating').errors">
                                <span *ngIf="samuraiForm.get('rating').errors.range">
                                    Please rate your experience from 1 to 5.
                                </span>
                            </span>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="col-md-offset-1 col-md-8 checkbox">
                            <label>
                                <input id="sendCatalogId"
                                       type="checkbox"
                                       formControlName="sendCatalog">
                                Send me your catalog
                            </label>
                        </div>
                    </div>-->

                    <!--<div *ngIf="customer.sendCatalog">
                        <div class="form-group" >
                            <label class="col-md-2 control-label">Address Type</label>
                            <div class="col-md-8">
                                    <label class="radio-inline">
                                        <input type="radio" id="addressType1Id" value="home"
                                                [(ngModel)]="customer.addressType"
                                                name="addressType">Home
                                    </label>
                                    <label class="radio-inline">
                                        <input type="radio" id="addressType1Id" value="work"
                                                [(ngModel)]="customer.addressType"
                                                name="addressType">Work
                                    </label>
                                    <label class="radio-inline">
                                        <input type="radio" id="addressType1Id" value="other"
                                                [(ngModel)]="customer.addressType"
                                                name="addressType">Other
                                    </label>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-md-2 control-label"
                                for="street1Id">Street Address 1</label>
                            <div class="col-md-8">
                                <input type="text"
                                        class="form-control"
                                        id="street1Id"
                                        placeholder="Street address"
                                        [(ngModel)]="customer.street1"
                                        name="street1">
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-md-2 control-label"
                                for="street2Id">Street Address 2</label>
                            <div class="col-md-8">
                                <input type="text"
                                        class="form-control"
                                        id="street2Id"
                                        placeholder="Street address (second line)"
                                        [(ngModel)]="customer.street2"
                                        name="street2">
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-md-2 control-label"
                                for="cityId">City, State, Zip Code</label>
                            <div class="col-md-3">
                                <input type="text"
                                        class="form-control"
                                        id="cityId"
                                        placeholder="City"
                                        [(ngModel)]="customer.city"
                                        name="city">
                            </div>
                            <div class="col-md-3">
                                <select class="form-control"
                                        id="stateId"
                                        [(ngModel)]="customer.state"
                                        name="state">
                                    <option value="" disabled selected hidden>Select a State...</option>
                                    <option value="AL">Alabama</option>
                                    <option value="AK">Alaska</option>
                                    <option value="AZ">Arizona</option>
                                    <option value="AR">Arkansas</option>
                                    <option value="CA">California</option>
                                    <option value="CO">Colorado</option>
                                    <option value="WI">Wisconsin</option>
                                    <option value="WY">Wyoming</option>
                                </select>
                            </div>
                            <div class="col-md-2">
                            <input type="number"
                                        class="form-control"
                                        id="zipId"
                                        placeholder="Zip Code"
                                        [(ngModel)]="customer.zip"
                                        name="zip">
                            </div>
                        </div>
                    </div>-->

                    <div class="form-group">
                        <div class="col-md-4 col-md-offset-2">
                            <span>
                                <button md-raised-button color="accent"
                                        type="submit"
                                        [disabled]="!samuraiForm.valid">
                                    Save
                                </button>
                            </span>
                            <span>
                                <button md-raised-button 
                                        type="button"
                                        (click)="populateTestData()">
                                    Test Data
                                </button>
                            </span>
                        </div>
                    </div>
                <!--</fieldset>-->
            </form>
        </md-card-content>
    </md-card>
</div>
<br>Dirty: {{ samuraiForm.dirty }}
<br>Touched: {{ samuraiForm.touched }}
<br>Valid: {{ samuraiForm.valid }}
<br>Value: {{ samuraiForm.value | json }}

<br>Samurai match: {{samuraiForm.get('emailGroup')}} {{samuraiForm.get('emailGroup').errors}}  {{samuraiForm.get('emailGroup').errors?.match}}
